<script type="text/discourse-plugin" version="0.8">
  if (settings.use_tsParticles_fireworks) {

    (async () => {
      const tsParticlesCdn = document.createElement("script");
      tsParticlesCdn.src = "https://cdn.jsdelivr.net/npm/@tsparticles/fireworks@3.7.1/tsparticles.fireworks.bundle.min.js";
    
      await fireworks();
    })();
    document.addEventListener("DOMContentLoaded", function() {
      const tsParticlesCdn = document.createElement("script");
      tsParticlesCdn.src = "https://cdn.jsdelivr.net/npm/@tsparticles/fireworks@3.7.1/tsparticles.fireworks.bundle.min.js";
  
      // Select the fireworks div
      const fireworksDiv = document.getElementById('fireworks');
      
      // Select the main section
      const mainSection = document.getElementById('main');
      
      // Check if both elements exist
      if (fireworksDiv && mainSection) {
        // Move the fireworks div to just below the main section opening tag
        mainSection.insertBefore(fireworksDiv, mainSection.firstChild);
      }
    });
  }
</script>
